version: 2

models:
    - name: fact_mrp_visit
      description: >
        Represents clinical staff meeting with a patient to reconcile their medications.

      columns:
          - name: mrp_event_id
            description: >
              The primary key of given row representing a completed MRP visit.

          - name: discharge_event_id
            description: >
              Unique id associated with patient hospital discharge related to the MRP visit.

          - name: opportunity_id
            description: >
              Unique id associated with patient service opportunities.

          - name: account_id
            description: >
              Salesforce generated patient event id.

          - name: institution_name
            description: >
              The client name associated with the patient.

          - name: patient_contact_id
            description: >
              Salesforce generated unique patient id.

          - name: time_start
            description: >
              Date and time in EST marking the start of the MRP visit.

          - name: mrp_visit_date
            description: >
              Date and time in UTC marking the end of the MRP visit.

          - name: mrp_visit_date_est
            description: >
              Date and time in EST marking the end of the MRP visit.

          - name: event_type
            description: >
              Type of event performed, focused to MRP.

          - name: event_disposition
            description: >
              Outcome of MRP visit.

          - name: mrp_status
            description: >
              Status of MRP visit.

          - name: time_created
            description: >
              Date and time in EST when the event was created in Salesforce.

          - name: time_updated
            description: >
              Date and time in EST when the event was last updated in Salesforce.

          - name: mrp_completed
            description: >
              Boolean indicator whether MRP event has been completed.

          - name: mrp_sequence
            description: >
              Ascending date order in which the MRPs occur per patient opportunity.

          - name: mrp_sequence_desc
            description: >
              Descending date order in which the MRPs occur per patient opportunity.

          - name: mrp_completed_sequence
            description: >
              Ascending date order in which the completed MRPs occur per patient opportunity.

          - name: mrp_bad_phone_number
            description: >
              Boolean indicator whether patient phone number is unreachable.

          - name: no_show
            description: >
              Boolean indicator whether patient did not attend the MRP visit.

          - name: is_re_enroll_mrp
            description: >
              Boolean indicator whether patient has been re-enrolled for another MRP visit.
